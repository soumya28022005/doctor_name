<%- include('partials/header.ejs') %>

<div class="card">
    <h2>Appointments for <%= doctor.name %> (<%= doctor.specialty %>)</h2>

    <% if(appointments.length > 0) { %>
        <ol>
            <% appointments.forEach(app => { %>
                <li>
                    Patient: <strong><%= app.patientName %></strong><br>
                    Date: <%= app.date %> at <%= app.time %><br>
                    Status: <span style="color: green;"><%= app.status %></span>
                </li>
            <% }) %>
        </ol>
    <% } else { %>
        <p>No appointments found for this doctor.</p>
    <% } %>
</div>

<hr>
<h3>Add New Appointment (Receptionist Access)</h3>
<form action="/receptionist/add-appointment" method="POST">
    <input type="hidden" name="doctorId" value="<%= doctor.id %>">
    <div class="form-group">
        <label for="patientName">Patient Name</label>
        <input type="text" id="patientName" name="patientName" required>
    </div>
    <div class="form-group">
        <label for="date">Date</label>
        <input type="date" id="date" name="date" required>
    </div>
    <div class="form-group">
        <label for="time">Time</label>
        <input type="time" id="time" name="time" required>
    </div>
    <button type="submit" class="btn">Add Appointment</button>
</form>


<%- include('partials/footer.ejs') %>
