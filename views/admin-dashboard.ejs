<%- include('partials/header.ejs') %>

<div class="dashboard-header">
    <h1>Welcome, <%= admin.name %> (Admin)</h1>
    <p>Oversee all system data from the admin dashboard.</p>
</div>

<div class="dashboard-grid">
    <div class="card">
        <h3>Add New Doctor</h3>
        <form action="/admin/add-doctor" method="POST">
            <input type="hidden" name="adminId" value="<%= admin.id %>">
            <div class="form-group">
                <label for="name">Doctor's Full Name</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div class="form-group">
                <label for="specialty">Specialty</label>
                <input type="text" id="specialty" name="specialty" placeholder="e.g., Cardiologist" required>
            </div>
            <div class="form-group">
                <label for="username">Create Username</label>
                <input type="text" id="username" name="username" required>
            </div>
            <div class="form-group">
                <label for="password">Create Password</label>
                <input type="password" id="password" name="password" required>
            </div>
            <button type="submit" class="btn">Add Doctor</button>
        </form>
    </div>

    <div class="card">
        <h3>All Appointments (<%= appointments.length %>)</h3>
        <ul class="appointment-list">
             <% appointments.forEach(app => { %>
                <li class="appointment-item"><%= app.patientName %> with Dr. <%= app.doctorName %> on <%= app.date %></li>
            <% }) %>
        </ul>
    </div>
</div>

<div class="card" style="margin-top: 2rem;">
    <h3>All Doctors (<%= doctors.length %>)</h3>
    <ul class="appointment-list">
        <% doctors.forEach(doc => { %>
           <li class="appointment-item">
                <strong><%= doc.name %></strong> (<%= doc.specialty %>) - ID: <%= doc.id %>
           </li>
       <% }) %>
   </ul>
</div>

<div class="card" style="margin-top: 2rem;">
     <h3>All Patients (<%= patients.length %>)</h3>
     <ul class="appointment-list">
         <% patients.forEach(p => { %>
            <li class="appointment-item">
                 <strong><%= p.name %></strong> (Mobile: <%= p.mobile %>) - ID: <%= p.id %>
            </li>
        <% }) %>
    </ul>
</div>


<%- include('partials/footer.ejs') %>